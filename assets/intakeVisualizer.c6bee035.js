import{p as D,m as I,aC as j,a as N,f as E,g as T,l as O,aD as F,n as q,q as J,t as v,o as V,u as b,c as n,v as g,I as w,e as R,aE as $,d as L,aF as G,h as x,k as H,j as U,R as A,r as K,aG as M,aH as Q,s as W,x as X,z as Y,a2 as Z,a4 as c,ab as f,a6 as o,a5 as y,ad as C,aB as B,ar as P,aa as _,au as p,av as ee,a9 as h,a7 as S,ac as k}from"./index.c008f4b7.js";import{_ as te}from"./deleteModal.554ad063.js";import{c as ie,b as le,d as ne,e as ae}from"./VList.33efd938.js";const se=D({align:{type:String,default:"center",validator:e=>["center","start"].includes(e)},direction:{type:String,default:"vertical",validator:e=>["vertical","horizontal"].includes(e)},justify:{type:String,default:"auto",validator:e=>["auto","center"].includes(e)},side:{type:String,validator:e=>e==null||["start","end"].includes(e)},lineInset:{type:[String,Number],default:0},lineThickness:{type:[String,Number],default:2},lineColor:String,truncateLine:{type:String,validator:e=>["start","end","both"].includes(e)},...I(),...j(),...N(),...E()},"VTimeline"),oe=T()({name:"VTimeline",props:se(),setup(e,r){let{slots:i}=r;const{themeClasses:m}=O(e),{densityClasses:d}=F(e),{rtlClasses:u}=q();J({VTimelineDivider:{lineColor:v(e,"lineColor")},VTimelineItem:{density:v(e,"density"),lineInset:v(e,"lineInset")}});const l=V(()=>{const t=e.side?e.side:e.density!=="default"?"end":null;return t&&`v-timeline--side-${t}`}),a=V(()=>{const t=["v-timeline--truncate-line-start","v-timeline--truncate-line-end"];switch(e.truncateLine){case"both":return t;case"start":return t[0];case"end":return t[1];default:return null}});return b(()=>n(e.tag,{class:["v-timeline",`v-timeline--${e.direction}`,`v-timeline--align-${e.align}`,`v-timeline--justify-${e.justify}`,a.value,{"v-timeline--inset-line":!!e.lineInset},m.value,d.value,l.value,u.value,e.class],style:[{"--v-timeline-line-thickness":g(e.lineThickness)},e.style]},i)),{}}}),re=D({dotColor:String,fillDot:Boolean,hideDot:Boolean,icon:w,iconColor:String,lineColor:String,...I(),...R(),...$(),...L()},"VTimelineDivider"),de=T()({name:"VTimelineDivider",props:re(),setup(e,r){let{slots:i}=r;const{sizeClasses:m,sizeStyles:d}=G(e,"v-timeline-divider__dot"),{backgroundColorStyles:u,backgroundColorClasses:l}=x(v(e,"dotColor")),{roundedClasses:a}=H(e,"v-timeline-divider__dot"),{elevationClasses:t}=U(e),{backgroundColorClasses:s,backgroundColorStyles:z}=x(v(e,"lineColor"));return b(()=>n("div",{class:["v-timeline-divider",{"v-timeline-divider--fill-dot":e.fillDot},e.class],style:e.style},[n("div",{class:["v-timeline-divider__before",s.value],style:z.value},null),!e.hideDot&&n("div",{key:"dot",class:["v-timeline-divider__dot",t.value,a.value,m.value],style:d.value},[n("div",{class:["v-timeline-divider__inner-dot",l.value,a.value],style:u.value},[i.default?n(K,{key:"icon-defaults",disabled:!e.icon,defaults:{VIcon:{color:e.iconColor,icon:e.icon,size:e.size}}},i.default):n(A,{key:"icon",color:e.iconColor,icon:e.icon,size:e.size},null)])]),n("div",{class:["v-timeline-divider__after",s.value],style:z.value},null)])),{}}}),ue=D({density:String,dotColor:String,fillDot:Boolean,hideDot:Boolean,hideOpposite:{type:Boolean,default:void 0},icon:w,iconColor:String,lineInset:[Number,String],...I(),...M(),...L(),...R(),...$(),...N()},"VTimelineItem"),ce=T()({name:"VTimelineItem",props:ue(),setup(e,r){let{slots:i}=r;const{dimensionStyles:m}=Q(e),d=W(0),u=X();return Y(u,l=>{var a,t;!l||(d.value=(t=(a=l.$el.querySelector(".v-timeline-divider__dot"))==null?void 0:a.getBoundingClientRect().width)!=null?t:0)},{flush:"post"}),b(()=>{var l,a;return n("div",{class:["v-timeline-item",{"v-timeline-item--fill-dot":e.fillDot},e.class],style:[{"--v-timeline-dot-size":g(d.value),"--v-timeline-line-inset":e.lineInset?`calc(var(--v-timeline-dot-size) / 2 + ${g(e.lineInset)})`:g(0)},e.style]},[n("div",{class:"v-timeline-item__body",style:m.value},[(l=i.default)==null?void 0:l.call(i)]),n(de,{ref:u,hideDot:e.hideDot,icon:e.icon,iconColor:e.iconColor,size:e.size,elevation:e.elevation,dotColor:e.dotColor,fillDot:e.fillDot,rounded:e.rounded},{default:i.icon}),e.density!=="compact"&&n("div",{class:"v-timeline-item__opposite"},[!e.hideOpposite&&((a=i.opposite)==null?void 0:a.call(i))])])}),{}}}),me={class:"text-caption"},ve={class:"text-overline"},_e={__name:"intakeVisualizer",props:{showAll:Boolean},setup(e){const r=e,i=Z(),m=V(()=>{let l=[];for(let a in i.intakes){let t=JSON.parse(JSON.stringify(i.intakes[a]));t.id=a,l.push(t)}return l.sort((a,t)=>t.takenAt-a.takenAt),l});function d(l){i.remove("intakes",Number(l))}function u(l){return!!(r.showAll||!l.expired||l.expired.length<i.pills[l.pill].contents.length)}return(l,a)=>(c(),f(oe,{direction:"vertical"},{default:o(()=>[(c(!0),y(C,null,B(m.value,t=>(c(),y(C,{key:t.id},[u(t)?(c(),f(ce,{key:0},{opposite:o(()=>[P("p",me,_(new Date(t.takenAt).toLocaleString()),1)]),default:o(()=>[n(p,{width:"fit-content"},{default:o(()=>[n(ee,null,{default:o(()=>[P("p",ve,[h(_(S(i).pills[t.pill].name)+" ",1),t.half?(c(),f(A,{key:0,icon:"mdi-circle-half-full"})):k("",!0),n(te,{onDelete:s=>d(t.id),variant:"plain"},null,8,["onDelete"])]),n(ie,null,{default:o(()=>[(c(!0),y(C,null,B(S(i).pills[t.pill].contents,s=>(c(),y(C,{key:t.id+"-"+s.ingredient},[r.showAll||!t.expired||!t.expired.includes(s.ingredient)?(c(),f(le,{key:0},{default:o(()=>[n(ne,null,{default:o(()=>[h(_(t.half?s.amount/2:s.amount)+" mg",1)]),_:2},1024),n(ae,null,{default:o(()=>[h(_(S(i).categories[s.ingredient].name),1)]),_:2},1024)]),_:2},1024)):k("",!0)],64))),128))]),_:2},1024)]),_:2},1024)]),_:2},1024)]),_:2},1024)):k("",!0)],64))),128))]),_:1}))}};export{_e as _};
