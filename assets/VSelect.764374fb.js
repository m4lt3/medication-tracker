import{p as U,I as pe,g as z,C as _,o as P,u as N,c as s,E as O,W as ge,X as xe,aL as ye,Z as Te,ai as De,x as H,ah as Re,aM as ae,s as $,ak as Ee,z as J,$ as oe,r as Ve,a1 as ke,aN as ue,aO as Ae,aP as se,m as we,ao as be,ad as K,F as Be,aQ as Me,aR as Oe,y as ie,aG as Le,aj as Fe,aH as Ue,t as He,D as Ke,v as G,A as _e,aS as $e,aT as ze,aU as Ne,aV as qe,H as je,J as We,aW as Xe,aX as ce,aw as re,R as de,a9 as Ye,aY as Ze,aZ as ve}from"./index.c008f4b7.js";import{m as Ge,u as Je,c as Qe,b as fe}from"./VList.33efd938.js";import{m as et,V as tt}from"./VSelectionControl.b676dcd8.js";import{V as nt}from"./VChip.563f6689.js";const lt=U({indeterminate:Boolean,indeterminateIcon:{type:pe,default:"$checkboxIndeterminate"},...et({falseIcon:"$checkboxOff",trueIcon:"$checkboxOn"})},"VCheckboxBtn"),at=z()({name:"VCheckboxBtn",props:lt(),emits:{"update:modelValue":e=>!0,"update:indeterminate":e=>!0},setup(e,f){let{slots:n}=f;const o=_(e,"indeterminate"),i=_(e,"modelValue");function d(l){o.value&&(o.value=!1)}const v=P(()=>o.value?e.indeterminateIcon:e.falseIcon),t=P(()=>o.value?e.indeterminateIcon:e.trueIcon);return N(()=>s(tt,O(e,{modelValue:i.value,"onUpdate:modelValue":[l=>i.value=l,d],class:["v-checkbox-btn",e.class],style:e.style,type:"checkbox",falseIcon:v.value,trueIcon:t.value,"aria-checked":o.value?"mixed":void 0}),n)),{}}});const ot=U({id:String,...ge(xe({closeDelay:250,closeOnContentClick:!0,locationStrategy:"connected",openDelay:300,scrim:!1,scrollStrategy:"reposition",transition:{component:ye}}),["absolute"])},"VMenu"),ut=z()({name:"VMenu",props:ot(),emits:{"update:modelValue":e=>!0},setup(e,f){let{slots:n}=f;const o=_(e,"modelValue"),{scopeId:i}=Te(),d=De(),v=P(()=>e.id||`v-menu-${d}`),t=H(),l=Re(ae,null),S=$(0);Ee(ae,{register(){++S.value},unregister(){--S.value},closeParents(){setTimeout(()=>{S.value||(o.value=!1,l==null||l.closeParents())},40)}});function x(u){var b,E,A;const V=u.relatedTarget,k=u.target;V!==k&&((b=t.value)==null?void 0:b.contentEl)&&((E=t.value)==null?void 0:E.globalTop)&&![document,t.value.contentEl].includes(k)&&!t.value.contentEl.contains(k)&&((A=ue(t.value.contentEl)[0])==null||A.focus())}J(o,u=>{u?(l==null||l.register(),document.addEventListener("focusin",x,{once:!0})):(l==null||l.unregister(),document.removeEventListener("focusin",x))});function c(){l==null||l.closeParents()}function r(u){var V,k,b;e.disabled||u.key==="Tab"&&(Ae(ue((V=t.value)==null?void 0:V.contentEl,!1),u.shiftKey?"prev":"next",A=>A.tabIndex>=0)||(o.value=!1,(b=(k=t.value)==null?void 0:k.activatorEl)==null||b.focus()))}function y(u){var k;if(e.disabled)return;const V=(k=t.value)==null?void 0:k.contentEl;V&&o.value?u.key==="ArrowDown"?(u.preventDefault(),se(V,"next")):u.key==="ArrowUp"&&(u.preventDefault(),se(V,"prev")):["ArrowDown","ArrowUp"].includes(u.key)&&(o.value=!0,u.preventDefault(),setTimeout(()=>setTimeout(()=>y(u))))}const D=P(()=>O({"aria-haspopup":"menu","aria-expanded":String(o.value),"aria-owns":v.value,onKeydown:y},e.activatorProps));return N(()=>{const[u]=oe.filterProps(e);return s(oe,O({ref:t,class:["v-menu",e.class],style:e.style},u,{modelValue:o.value,"onUpdate:modelValue":V=>o.value=V,absolute:!0,activatorProps:D.value,"onClick:outside":c,onKeydown:r},i),{activator:n.activator,default:function(){for(var V=arguments.length,k=new Array(V),b=0;b<V;b++)k[b]=arguments[b];return s(Ve,{root:"VMenu"},{default:()=>{var E;return[(E=n.default)==null?void 0:E.call(n,...k)]}})}})}),ke({id:v,\u03A8openChildren:S},t)}});const st=U({renderless:Boolean,...we()},"VVirtualScrollItem"),it=z()({name:"VVirtualScrollItem",inheritAttrs:!1,props:st(),emits:{"update:height":e=>!0},setup(e,f){let{attrs:n,emit:o,slots:i}=f;const{resizeRef:d,contentRect:v}=be(void 0,"border");J(()=>{var t;return(t=v.value)==null?void 0:t.height},t=>{t!=null&&o("update:height",t)}),N(()=>{var t,l;return e.renderless?s(K,null,[(t=i.default)==null?void 0:t.call(i,{itemRef:d})]):s("div",O({ref:d,class:["v-virtual-scroll__item",e.class],style:e.style},n),[(l=i.default)==null?void 0:l.call(i)])})}}),me=-1,he=1,ct=U({itemHeight:{type:[Number,String],default:48}},"virtual");function rt(e,f,n){const o=$(0),i=$(e.itemHeight),d=P({get:()=>{var m;return parseInt((m=i.value)!=null?m:0,10)},set(m){i.value=m}}),v=H(),{resizeRef:t,contentRect:l}=be();Be(()=>{t.value=v.value});const S=Me(),x=new Map;let c=Array.from({length:f.value.length});const r=P(()=>{var h;const m=(!l.value||v.value===document.documentElement?S.height.value:l.value.height)-((h=n==null?void 0:n.value)!=null?h:0);return Math.ceil(m/d.value*1.7+1)});function y(m,h){d.value=Math.max(d.value,h),c[m]=h,x.set(f.value[m],h)}function D(m){return c.slice(0,m).reduce((h,R)=>h+(R||d.value),0)}function u(m){const h=f.value.length;let R=0,B=0;for(;B<m&&R<h;)B+=c[R++]||d.value;return R-1}let V=0;function k(){if(!v.value||!l.value)return;const m=l.value.height-56,h=v.value.scrollTop,R=h<V?me:he,B=u(h+m/2),j=Math.round(r.value/3),W=B-j,X=o.value+j*2-1;R===me&&B<=X?o.value=ie(W,0,f.value.length):R===he&&B>=X&&(o.value=ie(W,0,f.value.length-r.value)),V=h}function b(m){if(!v.value)return;const h=D(m);v.value.scrollTop=h}const E=P(()=>Math.min(f.value.length,o.value+r.value)),A=P(()=>f.value.slice(o.value,E.value).map((m,h)=>({raw:m,index:h+o.value}))),q=P(()=>D(o.value)),Q=P(()=>D(f.value.length)-D(E.value));return J(()=>f.value.length,()=>{c=Oe(f.value.length).map(()=>d.value),x.forEach((m,h)=>{const R=f.value.indexOf(h);R===-1?x.delete(h):c[R]=m})}),{containerRef:v,computedItems:A,itemHeight:d,paddingTop:q,paddingBottom:Q,scrollToIndex:b,handleScroll:k,handleItemResize:y}}const dt=U({items:{type:Array,default:()=>[]},renderless:Boolean,...ct(),...we(),...Le()},"VVirtualScroll"),vt=z()({name:"VVirtualScroll",props:dt(),setup(e,f){let{slots:n}=f;const o=Fe("VVirtualScroll"),{dimensionStyles:i}=Ue(e),{containerRef:d,handleScroll:v,handleItemResize:t,scrollToIndex:l,paddingTop:S,paddingBottom:x,computedItems:c}=rt(e,He(e,"items"));return Ke(()=>e.renderless,()=>{_e(()=>{var r;d.value=$e(o.vnode.el,!0),(r=d.value)==null||r.addEventListener("scroll",v)}),ze(()=>{var r;(r=d.value)==null||r.removeEventListener("scroll",v)})}),N(()=>{const r=c.value.map(y=>s(it,{key:y.index,renderless:e.renderless,"onUpdate:height":D=>t(y.index,D)},{default:D=>{var u;return(u=n.default)==null?void 0:u.call(n,{item:y.raw,index:y.index,...D})}}));return e.renderless?s(K,null,[s("div",{class:"v-virtual-scroll__spacer",style:{paddingTop:G(S.value)}},null),r,s("div",{class:"v-virtual-scroll__spacer",style:{paddingBottom:G(x.value)}},null)]):s("div",{ref:d,class:["v-virtual-scroll",e.class],onScroll:v,style:[i.value,e.style]},[s("div",{class:"v-virtual-scroll__container",style:{paddingTop:G(S.value),paddingBottom:G(x.value)}},[r])])}),{scrollToIndex:l}}});function ft(e,f){const n=$(!1);let o;function i(t){cancelAnimationFrame(o),n.value=!0,o=requestAnimationFrame(()=>{o=requestAnimationFrame(()=>{n.value=!1})})}async function d(){await new Promise(t=>requestAnimationFrame(t)),await new Promise(t=>requestAnimationFrame(t)),await new Promise(t=>requestAnimationFrame(t)),await new Promise(t=>{if(n.value){const l=J(n,()=>{l(),t()})}else t()})}async function v(t){var x,c;if(t.key==="Tab"&&((x=f.value)==null||x.focus()),!["PageDown","PageUp","Home","End"].includes(t.key))return;const l=(c=e.value)==null?void 0:c.$el;if(!l)return;(t.key==="Home"||t.key==="End")&&l.scrollTo({top:t.key==="Home"?0:l.scrollHeight,behavior:"smooth"}),await d();const S=l.querySelectorAll(":scope > :not(.v-virtual-scroll__spacer)");if(t.key==="PageDown"||t.key==="Home"){const r=l.getBoundingClientRect().top;for(const y of S)if(y.getBoundingClientRect().top>=r){y.focus();break}}else{const r=l.getBoundingClientRect().bottom;for(const y of[...S].reverse())if(y.getBoundingClientRect().bottom<=r){y.focus();break}}}return{onListScroll:i,onListKeydown:v}}const mt=U({chips:Boolean,closableChips:Boolean,eager:Boolean,hideNoData:Boolean,hideSelected:Boolean,menu:Boolean,menuIcon:{type:pe,default:"$dropdown"},menuProps:{type:Object},multiple:Boolean,noDataText:{type:String,default:"$vuetify.noDataText"},openOnClear:Boolean,valueComparator:{type:Function,default:Ne},itemColor:String,...Ge({itemChildren:!1})},"Select"),ht=U({...mt(),...ge(qe({modelValue:null}),["validationValue","dirty","appendInnerIcon"]),...je({transition:{component:ye}})},"VSelect"),kt=z()({name:"VSelect",props:ht(),emits:{"update:focused":e=>!0,"update:modelValue":e=>!0,"update:menu":e=>!0},setup(e,f){let{slots:n}=f;const{t:o}=We(),i=H(),d=H(),v=_(e,"menu"),t=P({get:()=>v.value,set:a=>{var p;v.value&&!a&&((p=d.value)==null?void 0:p.\u03A8openChildren)||(v.value=a)}}),{items:l,transformIn:S,transformOut:x}=Je(e),c=_(e,"modelValue",[],a=>S(a===null?[null]:Ze(a)),a=>{var w;const p=x(a);return e.multiple?p:(w=p[0])!=null?w:null}),r=Xe(),y=P(()=>c.value.map(a=>l.value.find(p=>{const w=ce(p.raw,e.itemValue),L=ce(a.raw,e.itemValue);return w===void 0||L===void 0?!1:e.returnObject?e.valueComparator(w,L):e.valueComparator(p.value,a.value)})||a)),D=P(()=>y.value.map(a=>a.props.value)),u=$(!1);let V="",k;const b=P(()=>e.hideSelected?l.value.filter(a=>!y.value.some(p=>p===a)):l.value),E=P(()=>e.hideNoData&&!l.value.length||e.readonly||(r==null?void 0:r.isReadonly.value)),A=H(),{onListScroll:q,onListKeydown:Q}=ft(A,i);function m(a){e.openOnClear&&(t.value=!0)}function h(){E.value||(t.value=!t.value)}function R(a){var g,T;if(!a.key||e.readonly||(r==null?void 0:r.isReadonly.value))return;["Enter"," ","ArrowDown","ArrowUp","Home","End"].includes(a.key)&&a.preventDefault(),["Enter","ArrowDown"," "].includes(a.key)&&(t.value=!0),["Escape","Tab"].includes(a.key)&&(t.value=!1),a.key==="Home"?(g=A.value)==null||g.focus("first"):a.key==="End"&&((T=A.value)==null||T.focus("last"));const p=1e3;function w(C){const M=C.key.length===1,F=!C.ctrlKey&&!C.metaKey&&!C.altKey;return M&&F}if(e.multiple||!w(a))return;const L=performance.now();L-k>p&&(V=""),V+=a.key.toLowerCase(),k=L;const Y=l.value.find(C=>C.title.toLowerCase().startsWith(V));Y!==void 0&&(c.value=[Y])}function B(a){if(e.multiple){const p=D.value.findIndex(w=>e.valueComparator(w,a.value));if(p===-1)c.value=[...c.value,a];else{const w=[...c.value];w.splice(p,1),c.value=w}}else c.value=[a],t.value=!1}function j(a){var p;(p=A.value)!=null&&p.$el.contains(a.relatedTarget)||(t.value=!1)}function W(){var a;u.value&&((a=i.value)==null||a.focus())}function X(a){u.value=!0}function Ce(a){if(a==null)c.value=[];else if(ve(i.value,":autofill")||ve(i.value,":-webkit-autofill")){const p=l.value.find(w=>w.title===a);p&&B(p)}else i.value&&(i.value.value="")}return N(()=>{const a=!!(e.chips||n.chip),p=!!(!e.hideNoData||b.value.length||n["prepend-item"]||n["append-item"]||n["no-data"]),w=c.value.length>0,[L]=re.filterProps(e),Y=w||!u.value&&e.label&&!e.persistentPlaceholder?void 0:e.placeholder;return s(re,O({ref:i},L,{modelValue:c.value.map(g=>g.props.value).join(", "),"onUpdate:modelValue":Ce,focused:u.value,"onUpdate:focused":g=>u.value=g,validationValue:c.externalValue,dirty:w,class:["v-select",{"v-select--active-menu":t.value,"v-select--chips":!!e.chips,[`v-select--${e.multiple?"multiple":"single"}`]:!0,"v-select--selected":c.value.length,"v-select--selection-slot":!!n.selection},e.class],style:e.style,inputmode:"none",placeholder:Y,"onClick:clear":m,"onMousedown:control":h,onBlur:j,onKeydown:R}),{...n,default:()=>s(K,null,[s(ut,O({ref:d,modelValue:t.value,"onUpdate:modelValue":g=>t.value=g,activator:"parent",contentClass:"v-select__content",disabled:E.value,eager:e.eager,maxHeight:310,openOnClick:!1,closeOnContentClick:!1,transition:e.transition,onAfterLeave:W},e.menuProps),{default:()=>{var g;return[p&&s(Qe,{ref:A,selected:D.value,selectStrategy:e.multiple?"independent":"single-independent",onMousedown:T=>T.preventDefault(),onKeydown:Q,onFocusin:X,onScrollPassive:q,tabindex:"-1",color:(g=e.itemColor)!=null?g:e.color},{default:()=>{var T,C,M,F;return[(T=n["prepend-item"])==null?void 0:T.call(n),!b.value.length&&!e.hideNoData&&((M=(C=n["no-data"])==null?void 0:C.call(n))!=null?M:s(fe,{title:o(e.noDataText)},null)),s(vt,{renderless:!0,items:b.value},{default:Z=>{var ne,le;let{item:I,index:ee,itemRef:Ie}=Z;const te=O(I.props,{ref:Ie,key:ee,onClick:()=>B(I)});return(le=(ne=n.item)==null?void 0:ne.call(n,{item:I,index:ee,props:te}))!=null?le:s(fe,te,{prepend:Pe=>{let{isSelected:Se}=Pe;return s(K,null,[e.multiple&&!e.hideSelected?s(at,{key:I.value,modelValue:Se,ripple:!1,tabindex:"-1"},null):void 0,I.props.prependIcon&&s(de,{icon:I.props.prependIcon},null)])}})}}),(F=n["append-item"])==null?void 0:F.call(n)]}})]}}),y.value.map((g,T)=>{var F,Z;function C(I){I.stopPropagation(),I.preventDefault(),B(g)}const M={"onClick:close":C,onMousedown(I){I.preventDefault(),I.stopPropagation()},modelValue:!0,"onUpdate:modelValue":void 0};return s("div",{key:g.value,class:"v-select__selection"},[a?n.chip?s(Ve,{key:"chip-defaults",defaults:{VChip:{closable:e.closableChips,size:"small",text:g.title}}},{default:()=>{var I;return[(I=n.chip)==null?void 0:I.call(n,{item:g,index:T,props:M})]}}):s(nt,O({key:"chip",closable:e.closableChips,size:"small",text:g.title},M),null):(Z=(F=n.selection)==null?void 0:F.call(n,{item:g,index:T}))!=null?Z:s("span",{class:"v-select__selection-text"},[g.title,e.multiple&&T<y.value.length-1&&s("span",{class:"v-select__selection-comma"},[Ye(",")])])])})]),"append-inner":function(){var M;for(var g=arguments.length,T=new Array(g),C=0;C<g;C++)T[C]=arguments[C];return s(K,null,[(M=n["append-inner"])==null?void 0:M.call(n,...T),e.menuIcon?s(de,{class:"v-select__menu-icon",icon:e.menuIcon},null):void 0])}})}),ke({isFocused:u,menu:t,select:B},i)}});export{kt as V};
